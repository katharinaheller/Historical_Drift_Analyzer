# ingestion.yaml
global:
  base_dir: "${PROJECT_ROOT}"

paths:
  raw_pdfs: "${base_dir}/data/raw_pdfs"
  parsed: "${base_dir}/data/processed/parsed"
  metadata: "${base_dir}/data/processed/metadata"

options:
  language: "auto"
  pdf_parser: "fitz"
  parallelism: "auto"
  metadata_fields:
    - title
    - authors
    - year
    - detected_language
    - file_size
    - toc

chunking:
  mode: "adaptive"  # "adaptive" chooses optimal chunk sizes automatically
  chunk_size: 2000  # Used only if mode = "static", define the fixed chunk size (in tokens)
  overlap: 200  # Overlap size in tokens (used when `enable_overlap` is true)
  enable_overlap: true  # Enable overlapping chunks between adjacent chunks
  sentence_boundary_detection: true  # Prefer splitting at sentence boundaries to maintain context
  merge_short_chunks: true  # Merge very short chunks (below min_chunk_length) to preserve context
  min_chunk_length: 400  # Discard chunks shorter than this threshold (in tokens)

save_intermediate: true
log_level: "INFO"
deterministic_mode: true
